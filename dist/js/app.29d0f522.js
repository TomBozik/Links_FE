(function(e){function t(t){for(var a,s,i=t[0],l=t[1],u=t[2],m=0,d=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(d.length)d.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(a=!1)}a&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},o={app:0},n=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},["/login"!==this.$route.path&&"/register"!==this.$route.path?r("Navigation"):e._e(),r("router-view")],1)},n=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"w-full",attrs:{id:"all"}},[r("div",{staticClass:"container items-center px-4 py-4 mx-auto sm:py-1 sm:flex sm:justify-between"},[r("div",{staticClass:"flex items-center justify-between"},[e._m(0),r("div",{staticClass:"sm:hidden",attrs:{id:"nav-burger"}},[r("button",{staticClass:"block dark:text-gray-500",attrs:{type:"button"},on:{click:function(t){e.isOpen=!e.isOpen}}},[r("svg",{staticClass:"w-6 h-6 fill-current",attrs:{viewBox:"0 0 24 24"}},[e.isOpen?r("path",{attrs:{"fill-rule":"evenodd",d:"M18.278 16.864a1 1 0 0 1-1.414 1.414l-4.829-4.828-4.828 4.828a1 1 0 0 1-1.414-1.414l4.828-4.829-4.828-4.828a1 1 0 0 1 1.414-1.414l4.829 4.828 4.828-4.828a1 1 0 1 1 1.414 1.414l-4.828 4.829 4.828 4.828z"}}):e._e(),e.isOpen?e._e():r("path",{attrs:{"fill-rule":"evenodd",d:"M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"}})])])])]),r("div",{staticClass:"items-center pt-8 pb-2 sm:pt-2 sm:flex",class:e.isOpen?"block":"hidden",attrs:{id:"nav-links"}},[e.loggedIn?e._e():r("router-link",{staticClass:"block py-1 pr-8 font-bold uppercase",attrs:{to:{name:"Login"}}},[e._v("Login")]),e.loggedIn?e._e():r("router-link",{staticClass:"block py-1 pr-8 font-bold uppercase",attrs:{to:{name:"Register"}}},[e._v("Register")]),e.loggedIn?r("a",{staticClass:"block py-1 pr-8 font-bold uppercase",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v("Logout")]):e._e()],1)])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex items-center font-bold uppercase text-md dark:text-gray-500"},[r("i",{staticClass:"pr-2 fas fa-paperclip"}),r("div",[e._v("Links")])])}],l={name:"Navigation",data:function(){return{isOpen:!1}},methods:{logout:function(){this.$store.dispatch("user/logout")}},computed:{loggedIn:function(){return this.$store.state.user.loggedIn}}},u=l,c=r("2877"),m=Object(c["a"])(u,s,i,!1,null,null,null),d=m.exports,p={name:"App",components:{Navigation:d}},f=p,g=(r("adeb"),Object(c["a"])(f,o,n,!1,null,null,null)),v=g.exports,b=(r("45fc"),r("8c4f")),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex items-center justify-center min-h-screen bg-gray-200 "},[r("div",{staticClass:"flex max-w-6xl overflow-hidden bg-white rounded-lg shadow-2xl"},[e._m(0),r("div",{staticClass:"flex flex-col w-full px-2 py-8 md:py-24 md:px-12 md:w-8/12"},[r("div",{staticClass:"pb-12 text-2xl font-bold text-center"},[e._v("Welcome.")]),r("div",{staticClass:"flex flex-col w-full pb-6"},[r("label",{staticClass:"block mb-2 text-sm font-bold text-gray-700",attrs:{for:"email"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"w-full px-3 py-2 mt-1 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none",attrs:{type:"email",name:"email",autocomplete:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e.errors.email?r("div",{staticClass:"text-red-600"},[e._v(" "+e._s(e.errors.email[0]))]):e._e()]),r("div",{staticClass:"flex flex-col w-full pb-6"},[r("label",{staticClass:"block mb-2 text-sm font-bold text-gray-700",attrs:{for:"password"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"w-full px-3 py-2 mt-1 leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none",attrs:{type:"password",name:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.errors.password?r("div",{staticClass:"text-red-600"},[e._v(" "+e._s(e.errors.password[0]))]):e._e()]),r("div",{staticClass:"flex flex-wrap"},[r("button",{staticClass:"w-full mt-4 btn btn-black",attrs:{type:"submit"},on:{click:e.handleLogin}},[e._v("Login")])])])])])},w=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-col justify-center hidden w-4/12 px-6 md:flex"},[a("img",{staticClass:"hidden md:block",attrs:{src:r("ebec")}})])}],_={name:"Login",data:function(){return{form:{email:"",password:"",device_name:"browser"},errors:[]}},methods:{handleLogin:function(){var e=this;this.$store.dispatch("user/login",this.form).then((function(){e.$router.push("/dashboard")}),(function(t){422===t.response.status&&(e.errors=t.response.data.errors)}))}}},x=_,y=Object(c["a"])(x,h,w,!1,null,null,null),C=y.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"max-w-md mx-auto pt-12"},[r("div",{staticClass:"flex flex-wrap mb-6"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"name"}},[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-input w-full shadow-md",attrs:{type:"text",name:"name",autocomplete:"name",autofocus:""},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e.errors.name?r("span",[e._v(" "+e._s(e.errors.name[0]))]):e._e()]),r("div",{staticClass:"flex flex-wrap mb-6"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"email"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-input w-full shadow-md",attrs:{type:"email",name:"email",autocomplete:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e.errors.email?r("span",[e._v(" "+e._s(e.errors.email[0]))]):e._e()]),r("div",{staticClass:"flex flex-wrap mb-6"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"password"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-input w-full shadow-md",attrs:{type:"password",name:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.errors.password?r("span",[e._v(" "+e._s(e.errors.password[0]))]):e._e()]),r("div",{staticClass:"flex flex-wrap mb-6"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"password_confimation"}},[e._v("Confirm password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"form-input w-full shadow-md",attrs:{type:"password",name:"password_confirmation"},domProps:{value:e.form.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.form,"password_confirmation",t.target.value)}}}),e.errors.password_confirmation?r("span",[e._v(" "+e._s(e.errors.password_confirmation[0]))]):e._e()]),r("div",{staticClass:"flex flex-wrap"},[r("button",{staticClass:"inline-block align-middle text-center select-none border font-bold whitespace-no-wrap py-2 px-4 rounded text-base leading-normal no-underline text-gray-100 bg-blue-500 hover:bg-blue-700",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e._v("Register")])])])},S=[],k={name:"Register",data:function(){return{form:{name:"",email:"",password:"",password_confirmation:""},errors:[]}},methods:{handleRegister:function(){var e=this;this.$store.dispatch("user/register",this.form).then((function(){e.$router.push("/login")}),(function(t){422===t.response.status&&(e.errors=t.response.data.errors)}))}}},O=k,I=Object(c["a"])(O,E,S,!1,null,null,null),R=I.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container mx-auto text-center"},[e.user?r("div",[e._v("Welcome, "+e._s(e.user.name))]):e._e()])},$=[],U={name:"Dashboard",data:function(){return{}},computed:{user:function(){return this.$store.state.user.user}},mounted:function(){this.$store.dispatch("user/getUser")}},j=U,P=Object(c["a"])(j,L,$,!1,null,null,null),G=P.exports;a["a"].use(b["a"]);var N=new b["a"]({mode:"history",base:"/",routes:[{path:"/login",name:"Login",component:C,meta:{guestOnly:!0}},{path:"/register",name:"Register",component:R,meta:{guestOnly:!0}},{path:"/dashboard",name:"Dashboard",component:G,meta:{authOnly:!0}}]});function T(){return localStorage.getItem("token")}N.beforeEach((function(e,t,r){e.matched.some((function(e){return e.meta.authOnly}))?T()?r():r({path:"/login",query:{redirect:e.fullPath}}):e.matched.some((function(e){return e.meta.guestOnly}))&&T()?r({path:"/dashboard"}):r()}));var A=N,F=r("2f62"),M=(r("d3b7"),r("bc3a")),z=r.n(M),D=z.a.create({baseURL:"https://links-api.tmbo.sk/api"}),H=function(){var e=localStorage.getItem("token");return e&&(D.defaults.headers.common["Authorization"]="Bearer ".concat(e)),D},B=H,J={register:function(e){return B().post("/register",e)},login:function(e){return B().post("/login",e)},logout:function(){return B().post("/logout")},auth:function(){return B().get("/user")}},W=localStorage.getItem("token"),q=W?{loggedIn:!0,user:null}:{loggedIn:!1,user:null},K={namespaced:!0,state:q,actions:{login:function(e,t){var r=e.commit;return J.login(t).then((function(e){return r("LOGIN_SUCCESS",e),Promise.resolve(e)}),(function(e){return r("LOGIN_FAILURE"),Promise.reject(e)}))},register:function(e,t){var r=e.commit;return J.register(t).then((function(e){return r("REGISTER_SUCCESS"),Promise.resolve(e)}),(function(e){return r("REGISTER_FAILURE"),Promise.reject(e)}))},logout:function(e){var t=e.commit;J.logout(),t("LOGOUT")},getUser:function(e){var t=e.commit;return J.auth().then((function(e){t("GET_USER_SUCCESS",e)}),(function(){t("GET_USER_FAILURE")}))}},mutations:{LOGIN_SUCCESS:function(e,t){localStorage.setItem("token",t.data),e.loggedIn=!0},LOGIN_FAILURE:function(e){e.loggedIn=!1},REGISTER_SUCCESS:function(e){e.loggedIn=!1},REGISTER_FAILURE:function(e){e.loggedIn=!1},LOGOUT:function(e){e.loggedIn=!1,e.user=null,localStorage.removeItem("token"),A.push({name:"Login"})},GET_USER_SUCCESS:function(e,t){e.user=t.data},GET_USER_FAILURE:function(e){e.loggedIn=!1,e.user=null,localStorage.removeItem("token"),A.push({name:"Login"})}}};a["a"].use(F["a"]);var Q=new F["a"].Store({modules:{user:K}});a["a"].config.productionTip=!1,new a["a"]({router:A,store:Q,render:function(e){return e(v)}}).$mount("#app")},a1af:function(e,t,r){},adeb:function(e,t,r){"use strict";var a=r("a1af"),o=r.n(a);o.a},ebec:function(e,t,r){e.exports=r.p+"img/login.5c9c2158.svg"}});
//# sourceMappingURL=app.29d0f522.js.map