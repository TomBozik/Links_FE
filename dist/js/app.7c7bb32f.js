(function(e){function t(t){for(var n,s,i=t[0],l=t[1],u=t[2],m=0,p=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var l=r[i];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},o=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Navigation"),r("router-view")],1)},o=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"w-full",attrs:{id:"all"}},[r("div",{staticClass:"container items-center px-4 py-4 mx-auto sm:py-1 sm:flex sm:justify-between"},[r("div",{staticClass:"flex items-center justify-between"},[r("div",{staticClass:"dark:text-gray-500"},[r("svg",{staticClass:"w-6 h-6",attrs:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}})])]),r("div",{staticClass:"sm:hidden",attrs:{id:"nav-burger"}},[r("button",{staticClass:"block dark:text-gray-500",attrs:{type:"button"},on:{click:function(t){e.isOpen=!e.isOpen}}},[r("svg",{staticClass:"w-6 h-6 fill-current",attrs:{viewBox:"0 0 24 24"}},[e.isOpen?r("path",{attrs:{"fill-rule":"evenodd",d:"M18.278 16.864a1 1 0 0 1-1.414 1.414l-4.829-4.828-4.828 4.828a1 1 0 0 1-1.414-1.414l4.828-4.829-4.828-4.828a1 1 0 0 1 1.414-1.414l4.829 4.828 4.828-4.828a1 1 0 1 1 1.414 1.414l-4.828 4.829 4.828 4.828z"}}):e._e(),e.isOpen?e._e():r("path",{attrs:{"fill-rule":"evenodd",d:"M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"}})])])])]),r("div",{staticClass:"items-center pt-8 pb-2 sm:pt-2 sm:flex",class:e.isOpen?"block":"hidden",attrs:{id:"nav-links"}},[e.loggedIn?r("router-link",{staticClass:"block py-1 pr-8 font-bold uppercase",attrs:{to:{name:"Dashboard"}}},[e._v("Dashboard")]):e._e(),e.loggedIn?e._e():r("router-link",{staticClass:"block py-1 pr-8 font-bold uppercase",attrs:{to:{name:"Login"}}},[e._v("Login")]),e.loggedIn?e._e():r("router-link",{staticClass:"block py-1 pr-8 font-bold uppercase",attrs:{to:{name:"Register"}}},[e._v("Register")]),e.loggedIn?r("a",{staticClass:"block py-1 pr-8 font-bold uppercase",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[e._v("Logout")]):e._e()],1)])])},i=[],l={name:"Navigation",data:function(){return{isOpen:!1}},methods:{logout:function(){this.$store.dispatch("user/logout")}},computed:{loggedIn:function(){return this.$store.state.user.loggedIn}}},u=l,c=r("2877"),m=Object(c["a"])(u,s,i,!1,null,null,null),p=m.exports,d={name:"App",components:{Navigation:p}},f=d,g=(r("adeb"),Object(c["a"])(f,a,o,!1,null,null,null)),v=g.exports,b=(r("45fc"),r("8c4f")),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"max-w-md mx-auto pt-12"},[r("div",{staticClass:"flex flex-wrap mb-6"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"email"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-input w-full shadow-md",attrs:{type:"email",name:"email",autocomplete:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e.errors.email?r("span",[e._v(" "+e._s(e.errors.email[0]))]):e._e()]),r("div",{staticClass:"flex flex-wrap mb-6"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"password"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-input w-full shadow-md",attrs:{type:"password",name:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.errors.password?r("span",[e._v(" "+e._s(e.errors.password[0]))]):e._e()]),r("div",{staticClass:"flex flex-wrap"},[r("button",{staticClass:"inline-block align-middle text-center select-none border font-bold whitespace-no-wrap py-2 px-4 rounded text-base leading-normal no-underline text-gray-100 bg-blue-500 hover:bg-blue-700",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("Login")])])])},w=[],_={name:"Login",data:function(){return{form:{email:"",password:""},errors:[]}},methods:{handleLogin:function(){var e=this;this.$store.dispatch("user/login",this.form).then((function(){e.$router.push("/dashboard")}),(function(t){422===t.response.status&&(e.errors=t.response.data.errors)}))}}},x=_,C=Object(c["a"])(x,h,w,!1,null,null,null),y=C.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"max-w-md mx-auto pt-12"},[r("div",{staticClass:"flex flex-wrap mb-6"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"name"}},[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-input w-full shadow-md",attrs:{type:"text",name:"name",autocomplete:"name",autofocus:""},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e.errors.name?r("span",[e._v(" "+e._s(e.errors.name[0]))]):e._e()]),r("div",{staticClass:"flex flex-wrap mb-6"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"email"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-input w-full shadow-md",attrs:{type:"email",name:"email",autocomplete:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e.errors.email?r("span",[e._v(" "+e._s(e.errors.email[0]))]):e._e()]),r("div",{staticClass:"flex flex-wrap mb-6"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"password"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-input w-full shadow-md",attrs:{type:"password",name:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e.errors.password?r("span",[e._v(" "+e._s(e.errors.password[0]))]):e._e()]),r("div",{staticClass:"flex flex-wrap mb-6"},[r("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"password_confimation"}},[e._v("Confirm password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"form-input w-full shadow-md",attrs:{type:"password",name:"password_confirmation"},domProps:{value:e.form.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.form,"password_confirmation",t.target.value)}}}),e.errors.password_confirmation?r("span",[e._v(" "+e._s(e.errors.password_confirmation[0]))]):e._e()]),r("div",{staticClass:"flex flex-wrap"},[r("button",{staticClass:"inline-block align-middle text-center select-none border font-bold whitespace-no-wrap py-2 px-4 rounded text-base leading-normal no-underline text-gray-100 bg-blue-500 hover:bg-blue-700",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e._v("Register")])])])},O=[],S={name:"Register",data:function(){return{form:{name:"",email:"",password:"",password_confirmation:""},errors:[]}},methods:{handleRegister:function(){var e=this;this.$store.dispatch("user/register",this.form).then((function(){e.$router.push("/login")}),(function(t){422===t.response.status&&(e.errors=t.response.data.errors)}))}}},E=S,I=Object(c["a"])(E,k,O,!1,null,null,null),R=I.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container mx-auto text-center"},[e.user?r("div",[e._v("Welcome, "+e._s(e.user.name))]):e._e()])},j=[],P={name:"Dashboard",data:function(){return{}},computed:{user:function(){return this.$store.state.user.user}},mounted:function(){this.$store.dispatch("user/getUser")}},U=P,$=Object(c["a"])(U,L,j,!1,null,null,null),N=$.exports;n["a"].use(b["a"]);var G=new b["a"]({mode:"history",base:"/",routes:[{path:"/login",name:"Login",component:y,meta:{guestOnly:!0}},{path:"/register",name:"Register",component:R,meta:{guestOnly:!0}},{path:"/dashboard",name:"Dashboard",component:N,meta:{authOnly:!0}}]});function T(){return localStorage.getItem("auth")}G.beforeEach((function(e,t,r){e.matched.some((function(e){return e.meta.authOnly}))?T()?r():r({path:"/login",query:{redirect:e.fullPath}}):e.matched.some((function(e){return e.meta.guestOnly}))&&T()?r({path:"/dashboard"}):r()}));var M=G,A=r("2f62"),D=(r("d3b7"),r("96cf"),r("1da1")),F=r("bc3a"),z=r.n(F),H=z.a.create({baseURL:"http://links-api.tmbo.sk/api",withCredentials:!0}),B=H,J=r("a78e"),q=r.n(J),K={getCookie:function(){var e=q.a.get("XSRF-TOKEN");if(e)return new Promise((function(t){t(e)}));B.get("/csrf-cookie")}},V={register:function(e){return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,K.getCookie();case 2:return t.abrupt("return",B.post("/register",e));case 3:case"end":return t.stop()}}),t)})))()},login:function(e){return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,K.getCookie();case 2:return t.abrupt("return",B.post("/login",e));case 3:case"end":return t.stop()}}),t)})))()},logout:function(){return Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",B.post("/logout"));case 1:case"end":return e.stop()}}),e)})))()},auth:function(){return B.get("/user")}},W=localStorage.getItem("auth"),X=W?{loggedIn:!0,user:null}:{loggedIn:!1,user:null},Q={namespaced:!0,state:X,actions:{login:function(e,t){var r=e.commit;return V.login(t).then((function(e){return r("LOGIN_SUCCESS",e),Promise.resolve(e)}),(function(e){return r("LOGIN_FAILURE"),Promise.reject(e)}))},register:function(e,t){var r=e.commit;return V.register(t).then((function(e){return r("REGISTER_SUCCESS"),Promise.resolve(e)}),(function(e){return r("REGISTER_FAILURE"),Promise.reject(e)}))},logout:function(e){var t=e.commit;V.logout(),t("LOGOUT")},getUser:function(e){var t=e.commit;return V.auth().then((function(e){t("GET_USER_SUCCESS",e)}),(function(){t("GET_USER_FAILURE")}))}},mutations:{LOGIN_SUCCESS:function(e){localStorage.setItem("auth","true"),e.loggedIn=!0},LOGIN_FAILURE:function(e){e.loggedIn=!1},REGISTER_SUCCESS:function(e){e.loggedIn=!1},REGISTER_FAILURE:function(e){e.loggedIn=!1},LOGOUT:function(e){e.loggedIn=!1,e.user=null,localStorage.removeItem("auth"),M.push({name:"Login"})},GET_USER_SUCCESS:function(e,t){e.user=t.data},GET_USER_FAILURE:function(e){e.loggedIn=!1,e.user=null,localStorage.removeItem("auth"),M.push({name:"Login"})}}};n["a"].use(A["a"]);var Y=new A["a"].Store({modules:{user:Q}});n["a"].config.productionTip=!1,new n["a"]({router:M,store:Y,render:function(e){return e(v)}}).$mount("#app")},a1af:function(e,t,r){},adeb:function(e,t,r){"use strict";var n=r("a1af"),a=r.n(n);a.a}});
//# sourceMappingURL=app.7c7bb32f.js.map